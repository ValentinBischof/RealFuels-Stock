// All engines that are not configured by RealFuels-Stock will use Kerolox

@PART[*]:HAS[@MODULE[ModuleEngines*]:HAS[@PROPELLANT[LiquidFuel]]]:FOR[z_RealFuels_StockEngines]
{
	@MODULE[ModuleEngines*],*
	{
		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			%resourceFlowMode = STACK_PRIORITY_SEARCH
		}
	}
}
@PART[*]:HAS[@MODULE[ModuleEngines*]:HAS[@PROPELLANT[Oxidizer]]]:FOR[z_RealFuels_StockEngines]
{
	@MODULE[ModuleEngines*],*
	{
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			%resourceFlowMode = STACK_PRIORITY_SEARCH
		}
	}
}

// Configures all RCS thrusters without explicit configuration to have hypergolic configs
// LFO RCS should be configured separately
@PART[*]:HAS[@MODULE[ModuleRCSFX]&!MODULE[ModuleEngineConfigs]]:FOR[z_RealFuels_StockEngines]
{
  @mass *= 0.8

  @MODULE[ModuleRCSFX]
  {
    !resourceName = DELETE
    @atmosphereCurve
    {
      @key,0 = 0 281
      @key,1 = 1 101
    }
    !PROPELLANT[LiquidFuel] {}
    !PROPELLANT[Oxidizer] {}
    !PROPELLANT[MonoPropellant] {}
    PROPELLANT
    {
      name = Aerozine50
      ratio = 0.48657718
    }
    PROPELLANT
    {
      name = NTO
      ratio = 0.51342282
    }
  }

  MODULE
  {
    name = ModuleEngineConfigs
    type = ModuleRCSFX
    techLevel = 1
    origTechLevel = 1
    engineType = L
    origMass = #$/mass$
    configuration = Aerozine50+NTO
    modded = false
    CONFIG
    {
      name = MMH+NTO
      thrusterPower = #$/MODULE[ModuleRCSFX]/thrusterPower$
      PROPELLANT
      {
        name = MMH
        ratio = 0.51135562
      }
      PROPELLANT
      {
        name = NTO
        ratio = 0.48864438
      }
      IspSL = 0.4
      IspV = 0.952
    }
    CONFIG
    {
      name = Hydrazine
      thrusterPower = #$/MODULE[ModuleRCSFX]/thrusterPower$
      @thrusterPower *= 0.578
      PROPELLANT
      {
        name = Hydrazine
        ratio = 1
      }
      IspSL = 0.23
      IspV = 0.72
    }
    CONFIG
    {
      name = HTP
      thrusterPower = #$/MODULE[ModuleRCSFX]/thrusterPower$
      @thrusterPower *= 0.241
      PROPELLANT
      {
        name = HTP
        ratio = 1
      }
      IspSL = 0.2
      IspV = 0.465
    }
    CONFIG
    {
      name = Nitrogen
      thrusterPower = #$/MODULE[ModuleRCSFX]/thrusterPower$
      @thrusterPower *= 0.225
      PROPELLANT
      {
        name = Nitrogen
        ratio = 1
      }
      IspSL = 0.1
      IspV = 0.195
    }
    CONFIG
    {
      name = NitrousOxide
      thrusterPower = #$/MODULE[ModuleRCSFX]/thrusterPower$
      @thrusterPower *= 0.225
      PROPELLANT
      {
        name = NitrousOxide
        ratio = 1
      }
      IspSL = 0.253
      IspV = 0.5
    }
    CONFIG
    {
      name = UDMH+NTO
      thrusterPower = #$/MODULE[ModuleRCSFX]/thrusterPower$
      @thrusterPower *= 0.993
      PROPELLANT
      {
        name = UDMH
        ratio = 0.47823219
      }
      PROPELLANT
      {
        name = NTO
        ratio = 0.52176781
      }
      IspSL = 0.396
      IspV = 0.943
    }
    CONFIG
    {
      name = Aerozine50+NTO
      thrusterPower = #$/MODULE[ModuleRCSFX]/thrusterPower$
      PROPELLANT
      {
        name = Aerozine50
        ratio = 0.48657718
      }
      PROPELLANT
      {
        name = NTO
        ratio = 0.51342282
      }
      IspSL = 0.403
      IspV = 0.955
    }
  }
}
